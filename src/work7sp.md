# 第7回　特別課題

***

## URLとはなにか？

Uniform Resource Locator（ユニフォーム・リソース・ロケータ）の略。  
ホームページの住所に相当するもの。  
URLの構成は、  
![img.png](img.png)
となり、webブラウザはこのURLを用いてwebサーバーにページをリクエストする。
webサーバーはURLの場所にあるページをwebブラウザに返す。

## クエリ文字列（URLパラメーター、クエリパラメーター）とはなにか？

* クエリ：検索条件

* パラメータ：変数

URLの末尾に付け加える変数（文字列）の仕組みのこと。  
URLパラメータ、 クエリ文字列 、クエリストリングとも呼ばれることがある。
リンクにパラメータを付与することで、ブラウザが持つ情報をサーバー側に引き渡すことが可能で、ページのコンテンツ内容を変えたり、サイトの指標を計測したりすることができる。
URLパラメータには、パッシブパラメータ、アクティブパラメータが存在する。

* パッシブパラメータ：サーバー上のプログラムの情報収集のために用いられる。
  URLパラメータの有無にかかわらず、コンテンツの表示内容に影響を与えない。
  ”ダミーパラメータ”などとも呼ばれる。

* アクティブパラメータ：指定した値によって表示されるコンテンツ内容が変化するパラメータのこと。
  ECサイトの商品ページや、求人サイトの検索結果ページの絞り込み条件などで使用されていることが多い。

使用する際には、

* 「?」から始める

* 複数のパラメータを設定する場合は「&」で区切りを入れる

* 1つのパラメータにつき、入れる値は1つまで

## パスパラメータとはなにか？

世の中の様々なサービスでパスパラメータを指定することで特定のユーザーの情報だったり、記事の情報だったりを表示するために活用されている。  
パスパラメータの特徴としては次のようなものがある。

* 一意なリソースを指定する

* 省略はできない

## クエリパラメーターとパスパラメーターの違いはなにか？

![img_1.png](img_1.png)
一意なリソースを表す場合はパスパラメータに入れる。  
一意なリソース例：ユーザーIDなど  
省略可能ならクエリパラメーターに入れる。
例えばクエリパラメータの部分を省略したURLでも正常にアクセスできる。

## HTTPメソッドとは何か？

HTTPとはHyperText Transfer Protocol（ハイパーテキスト・トランスファー・プロトコル）の略。  
method（メソッド）の意味は「方法」とか「方式」とか「手法」など。

WebブラウザからWebサーバに対して出されるお願いの種類  
１．HTTPリクエストに含まれる  
２．HTTPリクエストラインに書いてある  
３．お願いの種類を表すもの  
GET,POSTなどがHTTPメソッドと呼ばれる。  
HTTPリクエストとは  
１．HTTPリクエストライン（リクエストライン）  
２．HTTPリクエストヘッダ（ヘッダ）  
３．HTTPリクエストメッセージボディ（メッセージボディ）  
からなる。
![img_2.png](img_2.png)
1行目がリクエストラインである。

### GETの意味

GETメソッドとは、HTTP通信でWebブラウザ等のクライアントからWebサーバへと送られる、HTTPリクエストの一種。
基本的に、Webサーバから情報を取り出す（GET）するために使用される。  
元々GETは、リクエスト行で指定したURIのファイルをクライアント側に転送するために用意されたメソッドだが、CGI等で動的なページを表示できる場合には、リクエストにパラメータを付け加え、パラメータに対応した情報をWebサーバから入手することも可能。
この場合は以下のように「?」で始まるパラメータを記述する。複数のパラメータを設定したい場合には、パラメータを「&」でつなげて記述する。  
<font color="Red">他の人に見られて困る情報（パスワードとか）は絶対にGETでは送らない。</font>
GETで送るとURLで見えてしまうからである。

### POSTの意味

POSTメソッドとは、HTTP通信でクライアント（Webブラウザなど）からWebサーバへ送るリクエストの種類の一つで、URLで指定したプログラムなどに対してクライアントからデータを送信するためのもの。  
formタグで送信方式としてGETメソッドを選択すると入力内容はURLのリクエストパラメータ（?以降の文字列）として付加され、POSTメソッドを選択するとリクエストのボディ部にデータが埋め込まれる。  
GETの場合はURLの一部として送信するためあまり長いデータは送信できないが、POSTであれば大容量の添付ファイルなども送信することができる。

### PATCHの意味

patchとputはともにデータを更新するメソッドだが少しニュアンスが異なる。  
patchは、データがすでに存在しているものに対して更新をかける処理である。  
putはデータが存在しているかどうかわからないときに使用しする。データが存在しているときは更新をし、データが存在しない場合は新規作成を行うという処理である。

### DELETEの意味

DELETEメソッドとは、HTTP通信でクライアント（Webブラウザなど）からWebサーバへ送るリクエストの種類の一つで、指定した資源の削除を求めるもの。通常は認証システムと合わせて正規の権限を持つ利用者のみに許可される。  
一般的な運用では公開Webサーバで誰でもファイルを削除できるようには設定せず、「401 Unauthorized」（削除権限がない）か「405 Method Not
Allowed」（メソッドが許可されていない）などのエラーを返す。

## HTTPステータスコードとは何か？

WebブラウザからWebサーバに対して出されるリクエストに対するWebサーバからの返事を表した3桁の数字。

### 200の意味

`HTTP 200 OK` はリクエストが成功した場合に返すレスポンスコード。
PUT や DELETE の成功結果は 200 OK ではなく、`204 No Content` や、リソースの初回アップロードによる作成の場合は `201 Created`である場合もある。

### 201の意味

HTTP の `201 Created`成功ステータスレスポンスコードは、リクエストが成功してリソースの作成が完了したことを表す。
レスポンスが返される前に、新たなリソースが作成され、レスポンスメッセージの本文にて新しいリソースが返される。

### 400の意味

クライアント側（リクエストを送る側）に問題があるときに利用される。  
リクエストパラメータに不足・不備がある場合に利用される。

### 404の意味

クライアント側（リクエストを送る側）に問題があるときに利用される。  
リクエストされたリソースが存在しないときに利用される。

### 500の意味

リクエストを受ける側、サーバー側に問題があるときに利用される。  
何らかのエラーがサーバー側で発生しているときに利用される。

## リクエストヘッダーとはなにか？

HTTPリクエストを構成する部品のひとつ。  
【フィールド名】:【内容】で記述される。  
`Accept`, `Accept-*`, `If-*`などのリクエストヘッダーは、条件付きリクエストを行うことができる。  
他の`Cookie`, `User-Agent`, `Referer` などはサーバーが回答を作成するための文脈を明確にする。
WebブラウザからWebサーバに伝えたい「お願いごとやお願い元に関するあれこれ」が書かれている場所。

## リクエストボディとはなにか？

HTTPリクエストの部品で、補足のメモ書きが書いてある場所。  
例えばPOST通信の場合は、受け渡されるパラメータの内容が、ここに記述される。
GET通信のように補足の必要がない場合は、特に何も書かれない。

## レスポンスヘッダーとはなにか？

HTTPレスポンスは

* ステータス行
* ヘッダーフィールド
* ボディ  
  で構成される。  
  リクエスト同様、ヘッダの各要素は、
  【フィールド名】:【内容】 の形式で構成される。HTTPレスポンスヘッダにはステータスラインに書ききれない情報が書かれている。
  例えば「何時に返事したよ！」とかが書いてある。 HTTPレスポンスの部品で『ステータスラインに書ききれないレスポンスの情報』が書かれている場所。

## レスポンスボディとはなにか？

HTTPレスポンスボディにはHTMLファイルの中身入っている。
「HTTPレスポンスの部品で『相手（クライアント）が欲しがってたファイルの中身』が書いてある場所である。

## JSONとはなにか？

JavaScript Object Notation（ジャヴァスクリプト・オブジェクト・ノーテーション）」の略。
「JavaScriptのオブジェクトの書き方を元にしたデータ定義方法」のこと。  
例えばPythonからJSONデータを送り、JavaScriptでそのままオブジェクトとして扱う、といった使い方が可能。XMLだとXML構文を解析する必要がでてくるので、プログラムのパフォーマンスが低下するというデメリットがある。  
JSONは {} の中にキーと値をコロンで区切って記述する。キーは必ずダブルクォーテーションで囲む必要があり、シングルクォーテーションだとエラーになる。

`{“key” : “value”}`

JSONは次のデータ型に対応している。

* 文字列
* 数値
* null
* bool値
* オブジェクト
* 配列

***

### 参考：

* 「分かりそう」で「分からない」でも「分かった」気になれるIT用語辞典 : https://wa3.i-3-i.info/index.html
* URLパラメータとは？書き方の 基礎知識や注意点を解説 : https://www.willgate.co.jp/promonista/url-parameter/
* パスパラメータ（Path Parameter）とは？ : https://zenn.dev/fujishiro/scraps/3a060b10b17a93
* パスパラメータとクエリパラメーターの違い : https://qiita.com/Marusoccer/items/7ccc7c959ccb5efc080f
* IT用語辞典 : https://e-words.jp/w/POST%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89.html
* MDN Web Docs : https://developer.mozilla.org/ja/docs/Web/HTTP/Status/201
* JSONとは？データフォーマット（データ形式）について学ぼう！ : https://products.sint.co.jp/topsic/blog/json
